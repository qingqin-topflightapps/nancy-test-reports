{"uid":"688199299c41fab","name":"test_CMS_204_Mark_Notification_As_Unread","fullName":"tests.test_11_CMS_Notifications#test_CMS_204_Mark_Notification_As_Unread","historyId":"305340dba475ce13a31045a71d97746c","time":{"start":1752463630497,"stop":1752463633576,"duration":3079},"description":"\nTest Case 204: Verify the \"Mark as unread\" functionality after marking as read.\n\nTest Steps:\n1. Launch the browser\n2. Login as admin user\n3. Navigate to Notifications page\n4. Switch to Read tab\n5. Mark the first read notification as unread\n6. Verify notification has been marked as unread\n","descriptionHtml":"<p>Test Case 204: Verify the &quot;Mark as unread&quot; functionality after marking as read.</p>\n<p>Test Steps:</p>\n<ol>\n<li>Launch the browser</li>\n<li>Login as admin user</li>\n<li>Navigate to Notifications page</li>\n<li>Switch to Read tab</li>\n<li>Mark the first read notification as unread</li>\n<li>Verify notification has been marked as unread</li>\n</ol>\n","status":"broken","statusMessage":"playwright._impl._errors.Error: Locator.wait_for: Error: strict mode violation: locator(\"button:has-text('Mark as unread')\") resolved to 10 elements:\n    1) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Community Post Pregnant Auto post 06d0PD 06/26/25 Mark as unread\").get_by_role(\"button\").first\n    2) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Community Comment Pregnant Community comment yInn92 06/26/25 Mark\").get_by_role(\"button\").first\n    3) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Community Comment Pregnant Community comment Z7FMEV 06/26/25 Mark\").get_by_role(\"button\").first\n    4) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Community Comment Pregnant 123 06/26/25 Mark as unread\").get_by_role(\"button\").first\n    5) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Community Comment Pregnant Community comment uEBqXg 06/26/25 Mark\").get_by_role(\"button\").first\n    6) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Community Comment Pregnant Community comment 0YxLj0 06/26/25 Mark\").get_by_role(\"button\").first\n    7) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Community Post Pregnant Auto post FtIr9b 06/26/25 Mark as unread\").get_by_role(\"button\").first\n    8) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Community Comment Pregnant Community comment pErsja 06/26/25 Mark\").get_by_role(\"button\").first\n    9) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Step Comment Prenatal Strength & Wellness Journey - For Auto Testing・Video 1 Pregnant Comment Test comment laoM2a 06/26/25 Mark as unread\", exact=True).get_by_role(\"button\").first\n    10) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Step Comment Prenatal Strength & Wellness Journey - For Auto Testing・Video 1 Pregnant Comment Test comment webJwD 06/26/25 Mark as unread\", exact=True).get_by_role(\"button\").first\n\nCall log:\n  - waiting for locator(\"button:has-text('Mark as unread')\") to be visible","statusTrace":"@allure.feature(\"11.0.0 CMS Notifications\")\n    @allure.epic(\"Web CMS Testing\")\n    @allure.story(\"11.5.0 Mark Notification as Unread\")\n    @allure.severity(allure.severity_level.NORMAL)\n    @allure.description(\"\"\"\n    Test Case 204: Verify the \"Mark as unread\" functionality after marking as read.\n    \n    Test Steps:\n    1. Launch the browser\n    2. Login as admin user\n    3. Navigate to Notifications page\n    4. Switch to Read tab\n    5. Mark the first read notification as unread\n    6. Verify notification has been marked as unread\n    \"\"\")\n    def test_CMS_204_Mark_Notification_As_Unread():\n        with sync_playwright() as p:\n            # Launch Browser\n            browser = p.chromium.launch()\n            page = browser.new_page()\n    \n            # Login using the existing login class\n            login_page = LoginPage(page)\n            login_page.loginDev(admin_user, admin_pw)\n    \n            # Go to Notifications\n            notifications_page = NotificationsPage(page)\n            notifications_page.go_to_notifications()\n    \n            # Switch to 'Read' tab\n            notifications_page.switch_to_read_tab()\n    \n            # Mark the first read notification as unread\n>           notifications_page.mark_first_notification_as_unread()\n\ntests/test_11_CMS_Notifications.py:206: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/NotificationsPage.py:162: in mark_first_notification_as_unread\n    button.wait_for(timeout=10000)\n../natal_mobile_auto/venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py:17937: in wait_for\n    self._sync(self._impl_obj.wait_for(timeout=timeout, state=state))\n../natal_mobile_auto/venv/lib/python3.13/site-packages/playwright/_impl/_locator.py:693: in wait_for\n    await self._frame.wait_for_selector(\n../natal_mobile_auto/venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:341: in wait_for_selector\n    await self._channel.send(\n../natal_mobile_auto/venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x104bf3d50>\ncb = <function Channel.send.<locals>.<lambda> at 0x104bfe980>, is_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.Error: Locator.wait_for: Error: strict mode violation: locator(\"button:has-text('Mark as unread')\") resolved to 10 elements:\nE               1) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Community Post Pregnant Auto post 06d0PD 06/26/25 Mark as unread\").get_by_role(\"button\").first\nE               2) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Community Comment Pregnant Community comment yInn92 06/26/25 Mark\").get_by_role(\"button\").first\nE               3) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Community Comment Pregnant Community comment Z7FMEV 06/26/25 Mark\").get_by_role(\"button\").first\nE               4) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Community Comment Pregnant 123 06/26/25 Mark as unread\").get_by_role(\"button\").first\nE               5) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Community Comment Pregnant Community comment uEBqXg 06/26/25 Mark\").get_by_role(\"button\").first\nE               6) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Community Comment Pregnant Community comment 0YxLj0 06/26/25 Mark\").get_by_role(\"button\").first\nE               7) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Community Post Pregnant Auto post FtIr9b 06/26/25 Mark as unread\").get_by_role(\"button\").first\nE               8) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Community Comment Pregnant Community comment pErsja 06/26/25 Mark\").get_by_role(\"button\").first\nE               9) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Step Comment Prenatal Strength & Wellness Journey - For Auto Testing・Video 1 Pregnant Comment Test comment laoM2a 06/26/25 Mark as unread\", exact=True).get_by_role(\"button\").first\nE               10) <button type=\"button\" class=\"chakra-button css-6pu575\">…</button> aka get_by_role(\"row\", name=\"Qqnct Fqnct Step Comment Prenatal Strength & Wellness Journey - For Auto Testing・Video 1 Pregnant Comment Test comment webJwD 06/26/25 Mark as unread\", exact=True).get_by_role(\"button\").first\nE           \nE           Call log:\nE             - waiting for locator(\"button:has-text('Mark as unread')\") to be visible\n\n../natal_mobile_auto/venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: Error","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1752463095832,"stop":1752463095833,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1752463095833,"stop":1752463095833,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1752463095833,"stop":1752463095833,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1752463095833,"stop":1752463095833,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"11.5.0 Mark Notification as Unread"},{"name":"severity","value":"normal"},{"name":"feature","value":"11.0.0 CMS Notifications"},{"name":"epic","value":"Web CMS Testing"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_11_CMS_Notifications"},{"name":"host","value":"fqqqqq.local"},{"name":"thread","value":"67398-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_11_CMS_Notifications"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"688199299c41fab.json","parameterValues":[]}